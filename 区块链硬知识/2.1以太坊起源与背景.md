# 课程大纲

| 章节              | 介绍                             | 预计 |
| :---------------- | :------------------------------- | :--- |
| 以太坊基础        | 了解去中心化世界的规则           | 3周  |
| 智能合约入门      | 去中心化世界的法律               | 4周  |
| 预言机与ChainLink | 去中心化世界和真实世界的数据交换 | 2周  |
| DeFi入门          | 基于去中心化世界的金融服务       | 3周  |
| NFT与GameFi       | 去中心化世界中的应用             | 4周  |
| 链上交互          | 如何用科学的方式读取去中心化数据 | 3周  |

# 简单回顾：区块链是什么

- 随比特币一同诞生的存储技术
- 由不同区块首尾相连构成的大账本
- 账本中的每一个区块，存贮0条或多条交易数据 

例子：比特币[高度739,850的区块](https://www.blockchain.com/explorer/blocks/btc/739850)

- 哈希：`0000000000000000000045d1abb0c987c8e15ca35131631e09e173829fc3e955`，前面 0 的数量由挖矿难度决定，由矿工计算 nonce 获得；
  是由区块数据 + nonce 生成的 “靓号” ID
- nonce: 挖矿就是找 nonce 的过程
- coinbase 奖励：6.25 btc
- 手续费：约 0.024 btc

# 以太坊的起源和背景

因为比特币的启发，才有了以太坊和后面的 DeFi 世界，以及区块链的蓬勃发展

## 关于比特币

- 数字化的货币
- 发行不受人为干预
- 交换不需要通过中间机构

传统数字化转账：通过某个中心机构

比特币也有中间机构，但是由比特币的全体参与者构成，不是某一个公司

## 比特币的转账流程

- 发起交易请求
- 接受处理交易请求
- 存储交易数据 

## 去中心化支付系统

- 由全球运行挖矿节点的电脑组成
- 依赖于P2P技术传递信息
- 相对较慢的记账速度（和银行相比）
- 完全公开的所有记录

通过任何客户端，向区块链网络广播交易，由某个矿工记账上链；或者在本地签名后，调用某个矿工提供的 API，由该矿工负责广播

## 中心化支付系统

向中心化服务器发送请求

为了让用户体验更好，会有内容分发，负载均衡，N机热备，缓存服务，防火墙等

## 比特币网络 VS 微信支付

比特币网络：全世界对于比特币网络信任的电脑，或者服务器，或者矿场主机，大家理论上都不认识，角色都是平等的。通过P2P链接在一起，只要由一台电脑开着，系统就不会宕机。

微信支付：腾讯的服务器机群，也是遍布全球各地，彼此都听小马哥号令。由腾讯来负责高昂的硬件成本，运营成本。彼此靠着昂贵的专线链接，如果接入服务器出现故障，就会引起大面积瘫痪。


| 场景         | 微信支付                                                                                             | 比特币网络                                                                                                                                                                                                         |
| :----------- | :--------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 发起转账请求 | 微信点击，向腾讯服务器发起转账请求，俗称请求API（Application Programming Interface）请求             | 通过钱包操作，向互联网广播转账请求，俗称调用RPC （remote procedurecallback）请求                                                                                                                                   |
| 接收转账请求 | 腾讯服务器会由接入点，分配给最适合的服务器帮你处理                                                   | 所有的矿工节点，包括发起者自己，都会通过广播接收器，收到你的转账消息                                                                                                                                               |
| 验证转账请求 | 腾讯服务器会根据请求携带的登陆信息，并且可能会让你扫脸什么的，人工验证，通过后台数据匹配来确认       | 你广播的时候，已经签名。并且数学上不可破解不可伪造不可篡改。矿工收到信息直接验证就行了                                                                                                                             |
| 处理转账     | 腾讯服务器通知数据库，处理转账信息，可能要同步银行的服务器，记录在腾讯服务器以及所有需要处理的服务器 | 所有的节点的电脑，都会记录合法交易在自己的账本                                                                                                                                                                     |
| 回复转账     | 腾讯立即回复发起人搞定啦，接收者立即可以看到当时的交易                                               | 所有的电脑都在竞选记账资格，并且由第一名向全球广播，我做到了。然后由他来负责记账。作为发起人也会收到他的第一名的广播，并且发现广播中自己的交易已经上链了。接收者打开钱包，可以在最新的区块中，看到发起人发出的交易 |

# 支付系统能否扩展成智能系统？

- 比特币，omni layer
- 最早的抵押类稳定币 USDT，基于 omni layer
- 借助于 BTC 交易中类似转账附言的字段 （OP_RETURN）

类比：用微信红包转账留言记账

如果把转账附言换成代码，就是以太坊（青春版）

# 中心化系统的问题

- 中心化的硬件：可能被 DDOS
- 中心化的用户数据： 用户头像属于腾讯
- 离散的互联网痕迹：每个 APP 互相隔离
- 绝对的服务话语权和不确定性

因此我们需要去中心化系统（web3）

# 小结

- 比特币的支付流程
- 去中心化支付系统及延伸
- 中心化系统的问题